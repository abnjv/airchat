# AirChat - تطبيق الدردشة الصوتية والنصية

مرحباً بك في AirChat! هذا المشروع هو تطبيق ويب للدردشة في الوقت الفعلي يتيح للمستخدمين إنشاء غرف دردشة والتواصل عبر الرسائل النصية. تم بناء التطبيق باستخدام Node.js, Express, MongoDB, و Socket.IO.

## الميزات

-   **مصادقة المستخدم:** تسجيل مستخدم جديد وتسجيل الدخول باستخدام JWT (JSON Web Tokens).
-   **إنشاء الغرف:** يمكن للمستخدمين المسجلين إنشاء غرف دردشة جديدة.
-   **الانضمام للغرف:** الانضمام إلى الغرف الموجودة للمشاركة في المحادثة.
-   **دردشة في الوقت الفعلي:** إرسال واستقبال الرسائل فوراً باستخدام Socket.IO.
-   **واجهة مستخدم بسيطة:** واجهة أمامية أساسية مبنية باستخدام HTML, CSS, و JavaScript.

## هيكل المشروع

تمت إعادة هيكلة المشروع ليكون أكثر تنظيماً وقابلية للصيانة.

```
/
├── backend/
│   ├── controllers/  # (منطق الأعمال)
│   ├── middleware/   # (برمجيات وسيطة مثل التحقق من المصادقة)
│   ├── models/       # (نماذج قاعدة البيانات Mongoose)
│   ├── routes/       # (مسارات الـ API)
│   └── server.js     # (ملف الخادم الرئيسي)
│
├── frontend/
│   ├── assets/       # (الصور والأيقونات)
│   ├── *.html        # (ملفات الواجهة الأمامية)
│   ├── *.css
│   └── *.js
│
├── .env.example      # (ملف البيئة النموذجي)
├── package.json
└── README.md
```

## كيفية التشغيل

اتبع الخطوات التالية لتشغيل المشروع على جهازك المحلي.

### 1. المتطلبات

-   [Node.js](https://nodejs.org/) (إصدار 14 أو أحدث)
-   [MongoDB](https://www.mongodb.com/try/download/community) (خادم محلي أو حساب على Atlas)

### 2. إعداد البيئة

1.  **نسخ المستودع:**
    ```bash
    git clone <repository_url>
    cd <repository_directory>
    ```

2.  **تثبيت الاعتماديات:**
    ```bash
    npm install
    ```

3.  **إعداد متغيرات البيئة:**
    -   قم بنسخ ملف `.env.example` إلى ملف جديد باسم `.env`.
        ```bash
        cp .env.example .env
        ```
    -   افتح ملف `.env` وقم بتعبئة المتغيرات المطلوبة:
        -   `MONGO_URI`: رابط الاتصال بقاعدة بيانات MongoDB.
        -   `JWT_SECRET`: مفتاح سري فريد لإنشاء التوكنات.
        -   `PORT`: رقم المنفذ الذي سيعمل عليه الخادم (افتراضي: 3000).

### 3. تشغيل التطبيق

لتشغيل الخادم، استخدم الأمر التالي:

```bash
npm start
```

سيتم تشغيل الخادم، ويمكنك الوصول إلى التطبيق عبر المتصفح على العنوان `http://localhost:3000`.

## واجهة برمجة التطبيقات (API)

### مصادقة المستخدم (`/api/auth`)

-   `POST /register`: تسجيل مستخدم جديد.
    -   **Body:** `{ "username": "user", "email": "user@example.com", "password": "123" }`
-   `POST /login`: تسجيل دخول المستخدم.
    -   **Body:** `{ "email": "user@example.com", "password": "123" }`

### غرف الدردشة (`/api/rooms`)

-   `GET /`: الحصول على قائمة بجميع الغرف.
-   `POST /`: إنشاء غرفة جديدة (يتطلب توكن مصادقة).
    -   **Headers:** `{ "Authorization": "Bearer <your_token>" }`
    -   **Body:** `{ "name": "My New Room" }`
-   `GET /:id`: الحصول على تفاصيل غرفة واحدة.
